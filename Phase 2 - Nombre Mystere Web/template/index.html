<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Quiz Web</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <header>
        <a href="/"><img class="logo" src="/static/logo.png" alt="logo"></a>
    </header>

    {{if not (or .IsQuizFacile .IsQuizMoyen .IsQuizDifficile .IsFin)}}
    <div class="menu">
        <div class="container">
            <h1>Quiz Questions</h1>
            <h2>Choississez le Quiz</h2>
        </div>
        <form class="quiz1" method="post" action="/quizfacile">
            <button type="submit">Quiz Facile</button>
        </form>
        <form class="quiz2" method="post" action="/quizmoyen">
            <button type="submit">Quiz Moyen</button>
        </form>
        <form class="quiz3" method="post" action="/quizdifficile">
            <button type="submit">Quiz Difficile</button>
        </form>
    </div>
    {{end}}

    {{if .IsFin}}
    <div class="containerfin">
        <h1>Quiz Termin√© !</h1>
        <p class="messagefinal">{{.MessageFinal}} {{.Score}}</p>
        <div class="scorefinal">{{.Score}} / 10</div>
        <a href="/" class="boutonsuivant">Retour accueil</a>
    </div>
    {{end}}

    {{if .IsQuizFacile}}
    <div class="menu">
        <div class="container">
            {{ $q := index .QuestionsFaciles .NumQuestion }}
            <p>Question {{.NumQuestion}} - Score: {{.Score}}</p>
            <h2>{{ $q.Enonce }}</h2>
        </div>
        <form class="reponse" method="post" action="/reponse">
            <input type="hidden" name="question_id" value="{{.NumQuestion}}">
            <input type="hidden" name="current_score" value="{{.Score}}">
            <input type="hidden" name="quiz_type" value="facile">
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 0 }}" class="{{.Couleur0}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 0 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 1 }}" class="{{.Couleur1}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 1 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 2 }}" class="{{.Couleur2}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 2 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 3 }}" class="{{.Couleur3}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 3 }}</button>
        </form>
        {{if .Message}}
        <div class="zonesuivante">
            <p class="messagequiz">{{.Message}}</p>
            <form method="get" action="/quizfacile">
                <input type="hidden" name="next_question" value="{{.QuestionSuivante}}">
                <input type="hidden" name="score" value="{{.Score}}">
                <button type="submit" class="boutonsuivant">Suivant</button>
            </form>
        </div>
        {{end}}
    </div>
    {{end}}

    {{if .IsQuizMoyen}}
    <div class="menu">
        <div class="container">
            {{ $q := index .QuestionsMoyennes .NumQuestion }}
            <p>Question {{.NumQuestion}} - Score: {{.Score}}</p>
            <h2>{{ $q.Enonce }}</h2>
        </div>
        <form class="reponse" method="post" action="/reponse">
            <input type="hidden" name="question_id" value="{{.NumQuestion}}">
            <input type="hidden" name="current_score" value="{{.Score}}">
            <input type="hidden" name="quiz_type" value="moyen">
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 0 }}" class="{{.Couleur0}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 0 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 1 }}" class="{{.Couleur1}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 1 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 2 }}" class="{{.Couleur2}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 2 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 3 }}" class="{{.Couleur3}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 3 }}</button>
        </form>
        {{if .Message}}
        <div class="zonesuivante">
            <p class="messagequiz">{{.Message}}</p>
            <form method="get" action="/quizmoyen">
                <input type="hidden" name="next_question" value="{{.QuestionSuivante}}">
                <input type="hidden" name="score" value="{{.Score}}">
                <button type="submit" class="boutonsuivant">Suivant</button>
            </form>
        </div>
        {{end}}
    </div>
    {{end}}

    {{if .IsQuizDifficile}}
    <div class="menu">
        <div class="container">
            {{ $q := index .QuestionsDifficiles .NumQuestion }}
            <p>Question {{.NumQuestion}} - Score: {{.Score}}</p>
            <h2>{{ $q.Enonce }}</h2>
        </div>
        <form class="reponse" method="post" action="/reponse">
            <input type="hidden" name="question_id" value="{{.NumQuestion}}">
            <input type="hidden" name="current_score" value="{{.Score}}">
            <input type="hidden" name="quiz_type" value="difficile">
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 0 }}" class="{{.Couleur0}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 0 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 1 }}" class="{{.Couleur1}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 1 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 2 }}" class="{{.Couleur2}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 2 }}</button>
            <button type="submit" name="choix_utilisateur" value="{{ index $q.Choix 3 }}" class="{{.Couleur3}}" {{if
                .Message}}disabled{{end}}>{{ index $q.Choix 3 }}</button>
        </form>
        {{if .Message}}
        <div class="zonesuivante">
            <p class="messagequiz">{{.Message}}</p>
            <form method="get" action="/quizdifficile">
                <input type="hidden" name="next_question" value="{{.QuestionSuivante}}">
                <input type="hidden" name="score" value="{{.Score}}">
                <button type="submit" class="boutonsuivant">Suivant</button>
            </form>
        </div>
        {{end}}
    </div>
    {{end}}

</body>

</html>